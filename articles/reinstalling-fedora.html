<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>No Play Games</title>
  <link rel="stylesheet" href="/style.css">
</head>

<body>
  <header>
    <div id="logo"> <a href="/index_en.html"><img src="../sources/no_play_logo.webp" alt="_blank"></a>No Play Games
    </div>

    <nav>
      <ul>
        <li class="dropdown">
          <a href="/articles/index_en.html" class="dropbtn">Entries</a>
          <div class="dropdown-content">
            <a href="/categorias/linux/linux_en.html">Linux</a>
            <a href="/categorias/gamedev/game-dev_en.html">Graphic Adventure Development</a>
            <a href="/categorias/otros/others.html">Others</a>
          </div>
        </li>
        <li><a href="/categorias/about/about.html">About me</a></li>
      </ul>
    </nav>

    <div id="language-switch">
      <a href="/articulos/reinstalando-fedora.html">ES</a> | <a href="#">EN</a>
    </div>
  </header>

  <main>

    <!-- <section id="blog-entries"> -->
    <section id="instalacion-fedora" class="blog-entry">
      <h2>Reinstalling Applications on Fedora</h2>
      <p class="date">September 21, 2024</p>
      <!-- Content of the Linux entry -->

      <p>Before starting the game development, the first step was to prepare the desktop environment. I've chosen
        Fedora. This choice is based on several factors:</p>
      <ul>
        <li>It's a mainstream distribution with extensive community support, which facilitates problem-solving.</li>
        <li>It offers a good balance between stability and innovation.</li>
        <li>I have previous experience with Fedora and feel comfortable with it.</li>
        <li>My hardware is highly compatible with this distribution.</li>
      </ul>
      <p>To start with a clean installation, I've developed two scripts that facilitate the process of backing up and
        reinstalling my applications. Here's the first script, which when executed generates a list of user-installed
        applications:</p>


      <!-- Code section -->
      <pre><code>
  #!/bin/bash
  # Name of the file where the applications will be saved
  OUTPUT_FILE="applications.txt"
  
  # Function to get applications installed by the user via DNF
  get_dnf_apps() {
      echo "Applications installed by the user (DNF):" > "$OUTPUT_FILE"
      dnf repoquery --userinstalled --queryformat '%{NAME}' | sort | uniq >> "$OUTPUT_FILE"
  }
  
  # Function to get applications installed by Flatpak
  get_flatpak_apps() {
      echo -e "\nApplications installed by Flatpak:" >> "$OUTPUT_FILE"
      flatpak list --app --columns=application | sort >> "$OUTPUT_FILE"
  }
  
  # Execute the functions to get the list of applications
  get_dnf_apps
  get_flatpak_apps
  
  echo "The list of applications installed by the user has been saved in $OUTPUT_FILE"
              </code></pre>
      <p>After obtaining the list of applications, I proceed to format and perform a clean installation of Fedora. Once
        the system is installed and updated, I copy the file generated by the first script into my $HOME directory and
        execute the second script to reinstall all the applications from the list:</p>


      <!-- Code section -->

      <pre><code>
  #!/bin/bash
  # Name of the file containing the list of applications
  INPUT_FILE="applications.txt"
  
  # Function to install DNF applications
  install_dnf() {
      echo "Installing DNF applications..."
      APPS_DNF=$(sed -n '/DNF:/,/Flatpak:/p' "$INPUT_FILE" | 
                 grep -v "DNF:" | grep -v "Flatpak:" | tr '\n' ' ')
      if [ -n "$APPS_DNF" ]; then
          sudo dnf install -y $APPS_DNF
      else
          echo "No DNF applications found to install."
      fi
  }
  
  # Function to install Flatpak applications
  install_flatpak() {
      echo "Installing Flatpak applications..."
      APPS_FLATPAK=$(sed -n '/Flatpak:/,$ p' "$INPUT_FILE" | 
                     grep -v "Flatpak:" | tr '\n' ' ')
      if [ -n "$APPS_FLATPAK" ]; then
          for app in $APPS_FLATPAK; do
              flatpak install -y flathub $app
          done
      else
          echo "No Flatpak applications found to install."
      fi
  }
  
  # Check if the input file exists
  if [ ! -f "$INPUT_FILE" ]; then
      echo "The file $INPUT_FILE does not exist. Please run the application listing script first."
      exit 1
  fi
  
  # Execute the installation functions
  install_dnf
  install_flatpak
  echo "The application installation has finished."
  
</code></pre>




      <p>I hope this information is useful for those who wish to perform a similar process of reinstalling applications
        to get the system ready for immediate use.</p>



  </main>





  <footer>
    <p>&copy; 2024 No Play Games Studio. All rights reserved.</p>
  </footer>
</body>

</html>